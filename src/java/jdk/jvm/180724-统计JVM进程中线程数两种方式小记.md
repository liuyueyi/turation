---
title: 180724-统计JVM进程中线程数两种方式小记
tags:
  - Linux
categories:
  - Java
  - JVM
date: 2018-07-24 19:18:19
keywords: JVM,Linux,PS,proc,进程数
---

## I. 统计进程中的线程数

相关系列博文推荐: 

- [180711-JVM定位分析CPU性能消耗](https://liuyueyi.github.io/hexblog/2018/07/11/180711-JVM%E5%AE%9A%E4%BD%8D%E5%88%86%E6%9E%90CPU%E6%80%A7%E8%83%BD%E6%B6%88%E8%80%97/)
- [180704-JDK常用监控参数](https://liuyueyi.github.io/hexblog/2018/07/04/180704-JDK%E5%B8%B8%E7%94%A8%E7%9B%91%E6%8E%A7%E5%8F%82%E6%95%B0/)
- [jvm调优的工具介绍](https://liuyueyi.github.io/hexblog/2018/01/03/jvm%E8%B0%83%E4%BC%98%E7%9A%84%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D/)

<!-- more -->

### 1. proc查询

 /proc 目录以可读文本文件形式输出，提供现有进程和系统硬件相关的信息如 CPU、中断、内存、磁盘等等
 
查看状态命令

```sh
cat /proc/进程号/status
```

其中对应的线程数为 `Threads:	367` 这一行

另外一种方式就是直接查看 `/proc/进程号/task` 下的目录，每个线程对应一个目录，目录名为对应的线程ID

```sh
ls /proc/进程号/task | wc -l
```

### 2. ps命令

```sh
ps -hH 进程号 | wc -l
```

列出了由进程号为<pid>的进程创建的所有线程

```sh
ps -T 进程号
```

### 3. pstree 命令

```bash
pstree -p xxx | wc -l
```

## II. 其他

### 1. [一灰灰Blog](https://liuyueyi.github.io/hexblog)： https://liuyueyi.github.io/hexblog

一灰灰的个人博客，记录所有学习和工作中的博文，欢迎大家前去逛逛


### 2. 声明

尽信书则不如，已上内容，纯属一家之言，因个人能力有限，难免有疏漏和错误之处，如发现bug或者有更好的建议，欢迎批评指正，不吝感激

- 微博地址: [小灰灰Blog](https://weibo.com/p/1005052169825577/home)
- QQ： 一灰灰/3302797840

### 3. 扫描关注

**小灰灰Blog&公众号**

![QrCode](https://raw.githubusercontent.com/liuyueyi/Source/master/img/info/blogInfoV2.png)

**知识星球**

![zhishi](https://raw.githubusercontent.com/liuyueyi/Source/master/img/info/goals.png)
