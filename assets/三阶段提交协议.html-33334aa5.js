const t=JSON.parse('{"key":"v-61e18c61","path":"/column/arch/distribute/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/%E4%B8%89%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%E5%8D%8F%E8%AE%AE.html","title":"三阶段协议","lang":"zh-CN","frontmatter":{"order":8,"title":"三阶段协议","tag":["分布式","算法"],"category":["分布式","设计模式","理论基础"],"date":"2022-07-12T19:27:54.000Z","keywords":["分布式","设计模式","三阶段提交"],"description":"在两阶段的基础上进行扩展，将第一阶段划分两部，cancommit + precommit，第三阶段则为 docommit 第一阶段 cancommit 该阶段协调者会去询问各个参与者是否能够正常执行事务，参与者根据自身情况回复一个预估值，相对于真正的执行事务，这个过程是轻量的 第二阶段 precommit 本阶段协调者会根据第一阶段的询盘结果采取相应操作，询盘结果主要有 3 种： 第一阶段响应 步骤 所有的参与者都返回确定 1.协调者向所有的事务参与者发送事务执行通知 2.参与者收到通知后执行事务但不提交 3.参与者将事务执行情况返回给客户端 一个或多个参与者返回否定信息 无法执行，向各个参与者发出 abort 通知，请求退出预备状态 协调者等待超时 同上","head":[["meta",{"property":"og:url","content":"https://liuyueyi.github.io/tutorial/column/arch/distribute/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80/%E4%B8%89%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%E5%8D%8F%E8%AE%AE.html"}],["meta",{"property":"og:site_name","content":"一灰灰的站点"}],["meta",{"property":"og:title","content":"三阶段协议"}],["meta",{"property":"og:description","content":"在两阶段的基础上进行扩展，将第一阶段划分两部，cancommit + precommit，第三阶段则为 docommit 第一阶段 cancommit 该阶段协调者会去询问各个参与者是否能够正常执行事务，参与者根据自身情况回复一个预估值，相对于真正的执行事务，这个过程是轻量的 第二阶段 precommit 本阶段协调者会根据第一阶段的询盘结果采取相应操作，询盘结果主要有 3 种： 第一阶段响应 步骤 所有的参与者都返回确定 1.协调者向所有的事务参与者发送事务执行通知 2.参与者收到通知后执行事务但不提交 3.参与者将事务执行情况返回给客户端 一个或多个参与者返回否定信息 无法执行，向各个参与者发出 abort 通知，请求退出预备状态 协调者等待超时 同上"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-29T08:58:55.000Z"}],["meta",{"property":"article:tag","content":"分布式"}],["meta",{"property":"article:tag","content":"算法"}],["meta",{"property":"article:published_time","content":"2022-07-12T19:27:54.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-29T08:58:55.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"三阶段协议\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-07-12T19:27:54.000Z\\",\\"dateModified\\":\\"2024-07-29T08:58:55.000Z\\",\\"author\\":[]}"]]},"headers":[],"git":{"createdTime":1722243535000,"updatedTime":1722243535000,"contributors":[{"name":"yihui","email":"bangzewu@126.com","commits":1}]},"readingTime":{"minutes":2.62,"words":785},"filePathRelative":"column/arch/distribute/设计模式/理论基础/三阶段提交协议.md","localizedDate":"2022年7月12日","excerpt":"<p>在两阶段的基础上进行扩展，将第一阶段划分两部，cancommit + precommit，第三阶段则为 docommit</p>\\n<p><strong>第一阶段 cancommit</strong></p>\\n<p>该阶段协调者会去询问各个参与者是否能够正常执行事务，参与者根据自身情况回复一个预估值，相对于真正的执行事务，这个过程是轻量的</p>\\n<p><strong>第二阶段 precommit</strong></p>\\n<p>本阶段协调者会根据第一阶段的询盘结果采取相应操作，询盘结果主要有 3 种：</p>\\n<table>\\n<thead>\\n<tr>\\n<th>第一阶段响应</th>\\n<th>步骤</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>所有的参与者都返回确定</td>\\n<td>1.协调者向所有的事务参与者发送事务执行通知 <br> 2.参与者收到通知后执行事务但不提交 <br> 3.参与者将事务执行情况返回给客户端</td>\\n</tr>\\n<tr>\\n<td>一个或多个参与者返回否定信息</td>\\n<td>无法执行，向各个参与者发出 abort 通知，请求退出预备状态</td>\\n</tr>\\n<tr>\\n<td>协调者等待超时</td>\\n<td>同上</td>\\n</tr>\\n</tbody>\\n</table>","copyright":{},"autoDesc":true}');export{t as data};
