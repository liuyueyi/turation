const t=JSON.parse('{"key":"v-79528cfa","path":"/column/app/trace-watch-dog/06.%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA%E4%B8%8E%E5%85%A8%E9%93%BE%E8%B7%AFtraceId%E9%80%8F%E4%BC%A0.html","title":"6. 日志输出与全链路traceId透传","lang":"zh-CN","frontmatter":{"order":6,"title":"6. 日志输出与全链路traceId透传","tag":["trace-watch-dog"],"category":["技术组件"],"date":"2024-08-26T18:19:48.000Z","keywords":["Java","trace"],"description":"前面封装耗时任务分布工具类的输出，主要是通过System.out.println进行控制台输出，这显然不符合实际的生产使用，接下来我们使用Slf4j进行输出的替换，额外需要注意的就是异步场景下，避免出现全链路的traceId的丢失 1. 日志集成 1.1 slf4j日志输出 在项目中使用日志比较简单，先添加依赖 &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;2.0.16&lt;/version&gt; &lt;/dependency&gt;","head":[["meta",{"property":"og:url","content":"https://liuyueyi.github.io/tutorial/column/app/trace-watch-dog/06.%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA%E4%B8%8E%E5%85%A8%E9%93%BE%E8%B7%AFtraceId%E9%80%8F%E4%BC%A0.html"}],["meta",{"property":"og:site_name","content":"一灰灰的站点"}],["meta",{"property":"og:title","content":"6. 日志输出与全链路traceId透传"}],["meta",{"property":"og:description","content":"前面封装耗时任务分布工具类的输出，主要是通过System.out.println进行控制台输出，这显然不符合实际的生产使用，接下来我们使用Slf4j进行输出的替换，额外需要注意的就是异步场景下，避免出现全链路的traceId的丢失 1. 日志集成 1.1 slf4j日志输出 在项目中使用日志比较简单，先添加依赖 &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;2.0.16&lt;/version&gt; &lt;/dependency&gt;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-27T09:29:58.000Z"}],["meta",{"property":"article:tag","content":"trace-watch-dog"}],["meta",{"property":"article:published_time","content":"2024-08-26T18:19:48.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-27T09:29:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"6. 日志输出与全链路traceId透传\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-08-26T18:19:48.000Z\\",\\"dateModified\\":\\"2024-08-27T09:29:58.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"1. 日志集成","slug":"_1-日志集成","link":"#_1-日志集成","children":[{"level":3,"title":"1.1 slf4j日志输出","slug":"_1-1-slf4j日志输出","link":"#_1-1-slf4j日志输出","children":[]},{"level":3,"title":"1.2 全链路的日志集成","slug":"_1-2-全链路的日志集成","link":"#_1-2-全链路的日志集成","children":[]},{"level":3,"title":"1.3 全链路traceId测试","slug":"_1-3-全链路traceid测试","link":"#_1-3-全链路traceid测试","children":[]},{"level":3,"title":"1.4 小结","slug":"_1-4-小结","link":"#_1-4-小结","children":[]}]}],"git":{"createdTime":1724667403000,"updatedTime":1724750998000,"contributors":[{"name":"yihui","email":"bangzewu@126.com","commits":2}]},"readingTime":{"minutes":9.52,"words":2857},"filePathRelative":"column/app/trace-watch-dog/06.日志输出与全链路traceId透传.md","localizedDate":"2024年8月26日","excerpt":"<p>前面封装耗时任务分布工具类的输出，主要是通过<code>System.out.println</code>进行控制台输出，这显然不符合实际的生产使用，接下来我们使用<code>Slf4j</code>进行输出的替换，额外需要注意的就是异步场景下，避免出现全链路的traceId的丢失</p>\\n<h2> 1. 日志集成</h2>\\n<h3> 1.1 slf4j日志输出</h3>\\n<p>在项目中使用日志比较简单，先添加依赖</p>\\n<div class=\\"language-xml line-numbers-mode\\" data-ext=\\"xml\\"><pre class=\\"language-xml\\"><code><span class=\\"token comment\\">&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;</span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>dependency</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>groupId</span><span class=\\"token punctuation\\">&gt;</span></span>org.slf4j<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>groupId</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>artifactId</span><span class=\\"token punctuation\\">&gt;</span></span>slf4j-api<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>artifactId</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>version</span><span class=\\"token punctuation\\">&gt;</span></span>2.0.16<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>version</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>dependency</span><span class=\\"token punctuation\\">&gt;</span></span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{},"autoDesc":true}');export{t as data};
